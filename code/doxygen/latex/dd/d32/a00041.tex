\hypertarget{a00041}{}\subsection{Worker\+Executor Class Reference}
\label{a00041}\index{Worker\+Executor@{Worker\+Executor}}


{\ttfamily \#include $<$Worker\+Executor.\+h$>$}



Inheritance diagram for Worker\+Executor\+:
% FIG 0


Collaboration diagram for Worker\+Executor\+:
% FIG 1
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00041_aae5a80d4f64f2bc795b175697e15225f}{Worker\+Executor} (int \hyperlink{a00015_a33c24e2887b4d9c4ef7f3566d3bc803e}{rank}, int \hyperlink{a00015_a4e798bde66d26fe200de7e8d2b54e915}{number\+\_\+of\+\_\+processors})
\item 
void \hyperlink{a00041_a7edee52a5d96dea5da7dc0e0ba461b45}{run\+\_\+task} (\hyperlink{a00002}{Task} task)
\item 
void \hyperlink{a00041_ac3155d06d7807a1d9d305293b92d63ab}{preprocessing} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
void \hyperlink{a00041_aff4c1b156960d031d09e669014038cd5}{postprocessing} ()
\item 
void \hyperlink{a00041_a50f9307b592bb371535e00461d7d0133}{place\+\_\+task} (\hyperlink{a00002}{Task} task)
\item 
void \hyperlink{a00041_adb37338d137f4039d835519b14698d51}{execute} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\subsubsection*{Additional Inherited Members}


\subsubsection{Detailed Description}
This class represents a worker running in its own process with its own M\+P\+I rank.

The executor() function is called from the the main function.

First the executor() function calls \hyperlink{a00041_ac3155d06d7807a1d9d305293b92d63ab}{preprocessing()}. After that the executor() functions calls the wait\+\_\+for\+\_\+worker() function. This function blocks until a new M\+P\+I message receive, and starts the computation. This is repeated until the worker receives a M\+P\+I massage with the tag S\+T\+O\+P. At the end the executor() function calls the \hyperlink{a00041_aff4c1b156960d031d09e669014038cd5}{postprocessing()} function.

\begin{DoxyAuthor}{Author}
Fabio Broghammer 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{a00041_aae5a80d4f64f2bc795b175697e15225f}{}\index{Worker\+Executor@{Worker\+Executor}!Worker\+Executor@{Worker\+Executor}}
\index{Worker\+Executor@{Worker\+Executor}!Worker\+Executor@{Worker\+Executor}}
\paragraph[{Worker\+Executor}]{\setlength{\rightskip}{0pt plus 5cm}Worker\+Executor\+::\+Worker\+Executor (
\begin{DoxyParamCaption}
\item[{int}]{rank, }
\item[{int}]{number\+\_\+of\+\_\+processors}
\end{DoxyParamCaption}
)}\label{a00041_aae5a80d4f64f2bc795b175697e15225f}
Constructs a new \hyperlink{a00041}{Worker\+Executor} object. This constructor calls the super constructor from \hyperlink{a00015}{Executor}.


\begin{DoxyParams}{Parameters}
{\em rank} & the M\+P\+I rank of the processor, that runs the executor code \\
\hline
{\em number\+\_\+of\+\_\+processors} & the total number of processors of the M\+P\+I world \\
\hline
\end{DoxyParams}


\subsubsection{Member Function Documentation}
\hypertarget{a00041_adb37338d137f4039d835519b14698d51}{}\index{Worker\+Executor@{Worker\+Executor}!execute@{execute}}
\index{execute@{execute}!Worker\+Executor@{Worker\+Executor}}
\paragraph[{execute}]{\setlength{\rightskip}{0pt plus 5cm}void Worker\+Executor\+::execute (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00041_adb37338d137f4039d835519b14698d51}
This procedure is called on all executor subtypes to start them


\begin{DoxyParams}{Parameters}
{\em argc} & command line argument count \\
\hline
{\em argv} & command line arguments \\
\hline
\end{DoxyParams}


Implements \hyperlink{a00015_aabad4923751a6ea70ca536d4d1f2f32a}{Executor}.

\hypertarget{a00041_a50f9307b592bb371535e00461d7d0133}{}\index{Worker\+Executor@{Worker\+Executor}!place\+\_\+task@{place\+\_\+task}}
\index{place\+\_\+task@{place\+\_\+task}!Worker\+Executor@{Worker\+Executor}}
\paragraph[{place\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}void Worker\+Executor\+::place\+\_\+task (
\begin{DoxyParamCaption}
\item[{{\bf Task}}]{task}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00041_a50f9307b592bb371535e00461d7d0133}
This function is called from the scientific code to add a new task to the scheduling queue. This function sends a non-\/blocking message to the database server\+: task appeared


\begin{DoxyParams}{Parameters}
{\em task} & task to be added \\
\hline
\end{DoxyParams}


Implements \hyperlink{a00040_ae60b8eaeb4f246bfca6d2ce65618c7c0}{Worker}.

\hypertarget{a00041_aff4c1b156960d031d09e669014038cd5}{}\index{Worker\+Executor@{Worker\+Executor}!postprocessing@{postprocessing}}
\index{postprocessing@{postprocessing}!Worker\+Executor@{Worker\+Executor}}
\paragraph[{postprocessing}]{\setlength{\rightskip}{0pt plus 5cm}void Worker\+Executor\+::postprocessing (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00041_aff4c1b156960d031d09e669014038cd5}
Calls the code\+\_\+postprocessing\+\_\+slave() function of the scientific code. 

Implements \hyperlink{a00040_ad3506771c8cd7bb893e195a661cb149d}{Worker}.

\hypertarget{a00041_ac3155d06d7807a1d9d305293b92d63ab}{}\index{Worker\+Executor@{Worker\+Executor}!preprocessing@{preprocessing}}
\index{preprocessing@{preprocessing}!Worker\+Executor@{Worker\+Executor}}
\paragraph[{preprocessing}]{\setlength{\rightskip}{0pt plus 5cm}void Worker\+Executor\+::preprocessing (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00041_ac3155d06d7807a1d9d305293b92d63ab}
Calls the code\+\_\+preprocessing\+\_\+slave() function of the scientific code and pass the command lines arguments. When the code\+\_\+preprocessing\+\_\+slave() function returns, a M\+P\+I message with the T\+A\+G F\+I\+N\+I\+S\+H will be send to the \hyperlink{a00026}{Master} (rank 0).


\begin{DoxyParams}{Parameters}
{\em argc} & command line argument count \\
\hline
{\em argv} & command line arguments \\
\hline
\end{DoxyParams}


Implements \hyperlink{a00040_a1562eed9614990073ce47bdfe2cd29e8}{Worker}.

\hypertarget{a00041_a7edee52a5d96dea5da7dc0e0ba461b45}{}\index{Worker\+Executor@{Worker\+Executor}!run\+\_\+task@{run\+\_\+task}}
\index{run\+\_\+task@{run\+\_\+task}!Worker\+Executor@{Worker\+Executor}}
\paragraph[{run\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}void Worker\+Executor\+::run\+\_\+task (
\begin{DoxyParamCaption}
\item[{{\bf Task}}]{task}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00041_a7edee52a5d96dea5da7dc0e0ba461b45}
Calls the code\+\_\+run\+\_\+task() function of the scientific and starts the scientific calculation with the given task. If the computation finish, a M\+P\+I message with the T\+A\+G finish will be send to the \hyperlink{a00026}{Master} (rank 0).


\begin{DoxyParams}{Parameters}
{\em task} & scientific task to be computed \\
\hline
\end{DoxyParams}


Implements \hyperlink{a00040_a78d4ec19f0ec658782263b3f64001f39}{Worker}.

